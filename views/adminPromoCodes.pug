doctype html

html(land="en")
    include common/adminHead.pug
    include common/adminSideNav.pug
    include common/adminTopNavbar.pug
    include common/adminScripts.pug
    +adminHead()
    link(rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css")
    // main
    div

        +adminTopNavbar()
        .main-wrapper
            // navbar vertical
            +adminSideNav()
            // main wrapper
            main.main-content-wrapper
                .container
                    .row.mb-8
                        .col-md-12
                            // page header
                            .d-md-flex.justify-content-between.align-items-center
                                div
                                    h2 Promo Codes
                                    // breacrumb
                                    nav(aria-label='breadcrumb')
                                        ol.breadcrumb.mb-0
                                            li.breadcrumb-item
                                                a.text-inherit(href='/admin-dashboard') Dashboard
                                            li.breadcrumb-item.active(aria-current='page') Promo Codes
                                // button
                                div
                                    a.btn.btn-primary(href='/admin-dashboard/promo-code/create') Create Promo Code
                    // row
                    .row
                        .col-xl-12.col-12.mb-5
                            // card
                            .card.h-100.card-lg

                                // card body
                                .card-body.p-0(style="padding: 20px !important")
                                    // table
                                    .table-responsive
                                        table.table.table-centered.table-hover.text-nowrap.table-borderless.mb-0.table-with-checkbox#promoCodes(style="cursor:pointer")
                                            thead.bg-light
                                                tr
                                                    //- th Image
                                                    th Promo Code
                                                    th Used Count
                                                    th Promo Code Type
                                                    th FromDt
                                                    th ToDt
                                                    th Percentage/Threshold
                                                    //- th Price From
                                                    //- th
                                            tbody
                                                each promoCode in promoCodes
                                                    tr(data-promoCodeId=promoCode.id)

                                                        td #{promoCode.code}
                                                        td #{promoCode.usedCount}
                                                        td #{promoCode.promoCodeType}
                                                        td #{promoCode.fromDt}
                                                        td #{promoCode.toDt}
                                                        if(promoCode.percentage === null)
                                                            td Â£#{promoCode.threshold}
                                                        else
                                                            td #{promoCode.percentage}% off
                                                        
                                                        



        +adminScripts()
        script(src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js")
        script(src="/js/adminPromoCodes.js")